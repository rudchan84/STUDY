<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://unpkg.com/mvp.css" />
    <title>ê¸°ë…ì¼ ì €ê¸ˆ í˜„í™©</title>
    <style>
      body {
        padding: 5px;
        background-color: rgb(255, 252, 230);
      }
      table {
        font-size: 14px;
        border: 1px solid #444444;
        border-collapse: collapse;
      }
      th,
      td {
        border: 1px solid #444444;
        /*empty-cells: hide;*/
      }
      .trBg {
        background-color: var(--color-accent);
      }
    </style>
  </head>
  <body>
    <h2>ê¸°ë…ì¼ ì €ê¸ˆ í˜„í™©ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦</h2>
    <h4 id="clock"></h4>
    <div><a href="./installmentSavings.html">ì˜¥ì˜¥ ì ê¸ˆ í˜„í™© ë³´ëŸ¬ê°€ê¸° &rarr;</a></div>
    <table>
      <tr class="trBg">
        <td></td>
        <th>ë‚ ì§œ</th>
        <th>ê¸ˆì•¡</th>
        <th>ë¹„ê³ </th>
      </tr>
    </table>
    <script>
      let totalAmount = 0;
      const data = [
        { inDate: new Date("2022-01-19"), amount: 200000, memo: "ì˜¥ìƒì¼" },
        { inDate: new Date("2022-02-17"), amount: 200000, memo: "ë‚˜ìƒì¼" },
        { inDate: new Date("2022-12-08"), amount: 200000, memo: "ê²°í˜¼ê¸°ë…ì¼" },
        { inDate: new Date("2023-01-19"), amount: 200000, memo: "ì˜¥ìƒì¼" },
        { inDate: new Date("2023-02-17"), amount: 200000, memo: "ë‚˜ìƒì¼" },
        { inDate: new Date("2023-12-08"), amount: 200000, memo: "ê²°í˜¼ê¸°ë…ì¼" },
        { inDate: new Date("2024-01-19"), amount: 200000, memo: "ì˜¥ìƒì¼" },
      ];

      //í˜„ì¬ ë‚ ì§œì‹œê°„
      getTime(); //ì‹œê³„ê°€ 1ì´ˆ ë’¤ ë‚˜ì˜¤ë‹ˆê¹Œ ë°”ë¡œ í•œ ë²ˆ í˜¸ì¶œ
      setInterval(getTime, 999);

      data.forEach(function (potato, index) {
        const html = `<tr>
          <td>${index + 1}</td><td>${potato.inDate.toLocaleDateString()}</td><td>${potato.amount.toLocaleString()}</td><td>${potato.memo}</td>
          </tr>`;
        document.querySelector("table").insertAdjacentHTML("beforeend", html);
        totalAmount += potato.amount;
      });

      const sumHtml = `<tr class="trBg"><td></td><td>í•©ê³„</td><td colspan=2>${totalAmount.toLocaleString()}</td></tr>`;
      document.querySelector("table").insertAdjacentHTML("beforeend", sumHtml);

      function getTime() {
        const clock = document.querySelector("#clock");
        const date = new Date();
        const hour = String(date.getHours()).padStart(2, "0");
        const minute = String(date.getMinutes()).padStart(2, "0");
        const second = String(date.getSeconds()).padStart(2, "0");
        clock.innerText = `í˜„ì¬ë‚ ì§œ : ${date.toLocaleDateString()} ${hour}:${minute}:${second}`;
      }
    </script>
  </body>
</html>
