<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
      integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <title>ì½”ë“œ 3ì¤„ë¡œ ìºëŸ¬ì…€(ì´ë¯¸ì§€ ìŠ¬ë¼ì´ë“œ) ë§Œë“¤ê¸°</title>
  </head>

  <body>
    <!-- ëª¨ë‹¬ì°½ -->
    <!-- ëª¨ë“  htmlì˜ ë§¨ ì•ì— ë…¸ì¶œë˜ëŠ” ì´ëŸ° í™”ë©´ì€
    htmlì˜ ë§¨ ìœ„ì— ì‘ì„±í•œë‹¤ -->
    <div class="black-bg">
      <div class="white-bg">
        <h4>ë¡œê·¸ì¸í•˜ì„¸ìš”</h4>
        <form action="success.html">
          <div class="my-3">
            <input type="text" class="form-control" />
          </div>
          <div class="my-3">
            <input type="password" class="form-control" />
          </div>
          <button type="submit" class="btn btn-primary">ì „ì†¡</button>
          <button type="button" class="btn btn-danger" id="close">ë‹«ê¸°</button>
        </form>
      </div>
    </div>

    <!-- navigation bar -->
    <div class="navbar navbar-light bg-light">
      <div class="container-fluid">
        <span class="navbar-brand">JSShop</span>
        <span class="badge bg-dark ms-auto mx-3">Dark ğŸ”„</span>
        <button class="navbar-toggler">
          <span class="navbar-toggler-icon"></span>
        </button>
      </div>
    </div>

    <div class="main-bg">
      <h4>Shirts on Sale</h4>
      <button id="btn-login" class="btn btn-danger">ë¡œê·¸ì¸</button>
    </div>

    <div class="alert alert-danger"><span>5</span>ì´ˆ ì´ë‚´ êµ¬ë§¤ ì‹œ ì‚¬ì€í’ˆ ì¦ì •!</div>

    <!-- carousel -->
    <div id="slide-wrap">
      <div class="slide-container">
        <div class="slide1">slide1</div>
        <div class="slide2">slide2</div>
        <div class="slide3">slide3</div>
        <div class="slide4">slide4</div>
      </div>
    </div>
    <div class="btn-toolbar" role="toolbar" aria-label="Toolbar with button groups">
      <div class="btn-group mr-2" role="group" aria-label="First group">
        <button class="btn-carousel-pre btn btn-secondary"><</button>
      </div>
      <div class="btn-group mr-2" role="group" aria-label="Second group">
        <button class="btn-slide1 btn btn-secondary">1</button>
        <button class="btn-slide2 btn btn-secondary">2</button>
        <button class="btn-slide3 btn btn-secondary">3</button>
        <button class="btn-slide4 btn btn-secondary">4</button>
      </div>
      <div class="btn-group" role="group" aria-label="Third group">
        <button class="btn-carousel-next btn btn-secondary">></button>
      </div>
    </div>
  </body>
</html>

<style>
  /* ëª¨ë‹¬ì°½ */
  .black-bg {
    width: 100%;
    height: 100%;
    position: fixed;
    background: rgba(0, 0, 0, 0.5);
    z-index: 5;
    padding: 30px;
    /* display: none; */
    visibility: hidden; /* display-noneì„ ì£¼ë©´ ì• ë‹ˆë©”ì´ì…˜ì´ ì˜ ë™ì‘í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— visibility ì‚¬ìš© */
    opacity: 0; /* animationì„ ìœ„í•¨ */
    transition: all 0.3s;
  }
  .white-bg {
    background: white;
    border-radius: 5px;
    padding: 30px;
  }
  .show-modal {
    /* display: block; */
    visibility: visible;
    opacity: 1;
  }

  .main-bg {
    padding: 100px 20px;
    background: lightgray;
  }

  /*carousel*/
  #slide-wrap {
    overflow: hidden;
  }
  .slide-container {
    width: 400vw;
    transition: all 0.3s;
  }

  .slide-container div {
    width: 100vw;
    height: 100px;
    float: left;
  }

  .slide1 {
    background-color: goldenrod;
  }
  .slide2 {
    background-color: skyblue;
  }
  .slide3 {
    background-color: orange;
  }
  .slide4 {
    background-color: greenyellow;
  }
</style>

<script>
  //í´ë¦­ ì‹œ ë¡œê·¸ì¸í•˜ì„¸ìš” ë„ìš°ê¸°(JQuery)
  $("#btn-login").on("click", () => {
    $(".black-bg").addClass("show-modal");
  });

  //ë‹«ê¸° ë²„íŠ¼(JQuery)
  $("#close").on("click", () => {
    $(".black-bg").removeClass("show-modal");
  });

  //vanilla JSë¡œ í•´ë³´ê¸°, ID ì•ˆì“°ê³  í•´ë³´ê¸°
  //ì•„ì´ë””, ë¹„ë²ˆ ê³µë°±ê²€ì‚¬ í›„ pwê°€ 6ì ë¯¸ë§Œì¸ì§€ ê²€ì‚¬
  document.querySelector("form").addEventListener("submit", function (e) {
    const id = document.querySelector("form input:first-child");
    const pw = document.querySelector("form div:nth-child(2) input");
    if (id.value == "") {
      e.preventDefault();
      alert("ì•„ì´ë”” ì…ë ¥ ì•ˆí•¨?");
    } else if (!/\S+@\S+\.\S+/.test(id.value)) {
      //ì´ë©”ì¼ í˜•ì‹ ê²€ì‚¬ ì¶”ê°€
      e.preventDefault();
      alert("ì´ë©”ì¼ í˜•ì‹ì´ ì•„ë‹˜!");
    } else if (pw.value == "") {
      e.preventDefault();
      alert("password ì…ë ¥ ì•ˆí•¨?");
    } else if (!/[A-Z]/.test(pw.value)) {
      //ë¹„ë°€ë²ˆí˜¸ì— ëŒ€ë¬¸ì ê²€ì‚¬ ì¶”ê°€
      e.preventDefault();
      alert("ë¹„ë°€ë²ˆí˜¸ì— ëŒ€ë¬¸ì í•˜ë‚˜ë¥¼ ë„£ìœ¼ì„¸ìš”");
    } else if (pw.value.length < 6) {
      e.preventDefault();
      alert("passwordê°€ 6ì ë¯¸ë§Œ");
    }
  });

  //input tag ì˜ change, input ì´ë²¤íŠ¸
  //change: ê°’ì´ ë³€ê²½ë˜ê³  focusë¥¼ ìƒìœ¼ë©´ ì´ë²¤íŠ¸ ë°œìƒ
  //input: ê°’ì´ ë³€ê²½ë  ë•Œ ë§ˆë‹¤ ì´ë²¤íŠ¸ ë°œìƒ
  document.querySelector("form input:first-child").addEventListener("input", function () {
    console.log(document.querySelector("form input:first-child").value);
  });

  //true, false
  //true: 0ì œì™¸ ìˆ«ì, 'ë¬¸ì', [], {}
  //false: 0, '', null, undefined, NaN

  //and or ëŠ” ì‰¬ì›Œì„œ ìƒëµ~

  //dark mode ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ toggle ë˜ë„ë¡ í•´ë³´ì
  //let, const : ì¬ì‚¬ìš© ë¶ˆê°€(ì‹¤ìˆ˜ ë°©ì§€)
  //var   Function-scoped ì¬ì„ ì–¸O ì¬í• ë‹¹O
  //let   {Block-scoped}  ì¬ì„ ì–¸X ì¬í• ë‹¹O
  //const {Block-scoped}  ì¬ì„ ì–¸X ì¬í• ë‹¹X
  let clickCnt = 0;

  $(".badge").on("click", function () {
    //clickCnt++
    clickCnt += 1;
    //clickCnt = clickCnt + 1
    if (clickCnt % 2 == 0) {
      $(".badge").text("Dark ğŸ”„");
    } else {
      $(".badge").text("Light ğŸ”„");
    }
  });

  //5ì´ˆ í›„ ì•ˆë³´ì´ê²Œ, 1ì´ˆë§ˆë‹¤ ë‚¨ì€ì‹œê°„ ë³€ê²½
  let second = 5;
  function limitPopupClose() {
    second -= 1;
    const popupHTML = document.querySelector(".alert");

    popupHTML.querySelector("span").innerHTML = second;

    if (second == 0) {
      popupHTML.style.display = "none";
      clearInterval(interval); //íƒ€ì´ë¨¸ ì‚­ì œ
    }
  }

  //setTimeout(limitPopupClose, 5000);
  let interval = setInterval(limitPopupClose, 1000);

  //carousel
  let ì§€ê¸ˆì‚¬ì§„ = 1;
  document.querySelector(".btn-slide1").addEventListener("click", function () {
    ì§€ê¸ˆì‚¬ì§„ = 1;
    document.querySelector(".slide-container").style.transform = "translateX(0vw)";
  });
  document.querySelector(".btn-slide2").addEventListener("click", function () {
    ì§€ê¸ˆì‚¬ì§„ = 2;
    document.querySelector(".slide-container").style.transform = "translateX(-100vw)";
  });
  document.querySelector(".btn-slide3").addEventListener("click", function () {
    ì§€ê¸ˆì‚¬ì§„ = 3;
    document.querySelector(".slide-container").style.transform = "translateX(-200vw)";
  });
  document.querySelector(".btn-slide4").addEventListener("click", function () {
    ì§€ê¸ˆì‚¬ì§„ = 4;
    document.querySelector(".slide-container").style.transform = "translateX(-300vw)";
  });

  /* í˜¼ì ë§Œë“¤ì–´ ë´„
  //ì´ì „ë²„íŠ¼
  document.querySelector(".btn-carousel-pre").addEventListener("click", function () {
    const currentX = parseInt(document.querySelector(".slide-container").style.transform.substring(12, 13));
    document.querySelector(".slide-container").style.transform = `translateX(-${currentX - 1}00vw)`;
  });

  //ë‹¤ìŒë²„íŠ¼
  document.querySelector(".btn-carousel-next").addEventListener("click", function () {
    const slideContainer = document.querySelector(".slide-container");
    const sliderLength = document.querySelectorAll(".slide-container div").length;
    const currentX = parseInt(slideContainer.style.transform.substring(12, 13));
    if (!currentX) {
      slideContainer.style.transform = `translateX(-100vw)`;
    } else if (sliderLength == currentX + 1) {
      //ë§ˆì§€ë§‰ ìŠ¬ë¼ì´ë“œë©´
      return;
    } else {
      slideContainer.style.transform = `translateX(-${currentX + 1}00vw)`;
    }
  });
  */

  /* íŒíŠ¸ë¥¼ ì–»ì–´ ë§Œë“¤ì–´ ë´„ 
  ì‚¬ì§„ì´ ëŠ˜ì–´ë‚˜ë„ ì˜ ë˜ëŠ” í™•ì¥ì„± ì¢‹ì€ ë²„íŠ¼ ë§Œë“¤ê¸°*/
  //ì´ì „ë²„íŠ¼
  document.querySelector(".btn-carousel-pre").addEventListener("click", function () {
    if (ì§€ê¸ˆì‚¬ì§„ > 1) {
      ì§€ê¸ˆì‚¬ì§„ -= 1;
      document.querySelector(".slide-container").style.transform = `translateX(-${ì§€ê¸ˆì‚¬ì§„ - 1}00vw)`;
      //console.log(ì§€ê¸ˆì‚¬ì§„);
    }
  });

  //ë‹¤ìŒë²„íŠ¼
  document.querySelector(".btn-carousel-next").addEventListener("click", function () {
    const sliderLength = document.querySelectorAll(".slide-container div").length;
    if (sliderLength > ì§€ê¸ˆì‚¬ì§„) {
      ì§€ê¸ˆì‚¬ì§„ += 1;
      document.querySelector(".slide-container").style.transform = `translateX(-${ì§€ê¸ˆì‚¬ì§„ - 1}00vw)`;
      //console.log(ì§€ê¸ˆì‚¬ì§„);
    }
  });
</script>
