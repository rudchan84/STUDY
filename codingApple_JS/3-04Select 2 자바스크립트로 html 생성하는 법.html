<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
      integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <title>3-04Select 2 자바스크립트로 html 생성하는 법</title>
    <style>
      .hidden {
        display: none;
      }
    </style>
  </head>

  <body>
    <div class="container mt-3">
      <div class="card p-3">상품명 / 가격</div>
    </div>

    <form class="container my-5 form-group">
      <p>상품선택</p>
      <select class="type form-select mt-2">
        <option>모자</option>
        <option>셔츠</option>
        <option>바지</option>
      </select>
      <select class="size form-select mt-2 hidden">
        <option>95</option>
        <option>100</option>
      </select>
    </form>

    <script>
      /*3-04Select 2 자바스크립트로 html 생성하는 법
      * html 생성하는 법 1
      var a = document.createElement('p');
      a.innerHTML = '안녕';
      document.querySelector('#test').appendChild(a);

      * html 생성하는 법 2
      var a = '<p>안녕</p>';
      document.querySelector('#test').insertAdjacentHTML('beforeend', a);
      - 문자자료로 html을 만든 다음 
      - insertAdjacentHTML() 안에 넣으면 됩니다.
      - 'beforeend' 이건 안쪽 맨 밑에 추가하라는 뜻입니다. 싫으면 맘대로 변경가능 

      1번 방법은 코드가 너무 길고 복잡하기 때문에 특별한 이유 없으면 2번 방법을 씁니다. 
      실은 1번이 더 빠르게 동작하는데 0.0000x초 차이임 

      var a = '<p>안녕</p>';
      $('#test').append(a);
      이래도 됩니다. 

      Q. 저는 안쪽에 추가하는게 아니라 아예 바꾸고 싶은데요
      A. div찾아서 innerHTML = '<p></p>' 쓰셈

      당연히 html을 미리 만들어놨다가 보여줘도 되는데
      실제 쇼핑몰의 경우 그렇게 만들어놓을 순 없습니다.
      바지 사이즈가 매일 달라지면 어떻게 합니까 매일 아침 html 수정할 것임?
      실제 서비스는 매번 서버에서 데이터를 받아와서 "데이터 갯수만큼 <option> 생성해주세요~" 라고 코드를 짜놓습니다.
      그래서 우리도 이를 대비하기 위해 html을 미리 만들어놓지말고 자바스크립트로 html을 생성해봅시다.
      */
      const selectType = document.querySelector(".type");
      selectType.addEventListener("input", function () {
        // console.log(document.querySelector(".size").classList);
        // 이벤트리스너 안에서 e.currentTarget 아니면 this 이런거 써도 될듯요
        if (selectType.value == "셔츠") {
          document.querySelector(".size").classList.remove("hidden");
        } else if (selectType.value == "바지") {
          document.querySelector(".size").classList.remove("hidden");
          let 템플릿 = `<option>28</option><option>30</option>`;
          $(".form-select").eq(1).append(템플릿);
        } else {
          document.querySelector(".size").classList.add("hidden");
        }
      });
    </script>
  </body>
</html>
