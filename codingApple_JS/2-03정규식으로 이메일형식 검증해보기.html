<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
      integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <title>setTimeout íƒ€ì´ë¨¸ì£¼ëŠ” ë²•</title>
  </head>

  <body>
    <!-- ëª¨ë‹¬ì°½ -->
    <!-- ëª¨ë“  htmlì˜ ë§¨ ì•ì— ë…¸ì¶œë˜ëŠ” ì´ëŸ° í™”ë©´ì€
    htmlì˜ ë§¨ ìœ„ì— ì‘ì„±í•œë‹¤ -->
    <div class="black-bg">
      <div class="white-bg">
        <h4>ë¡œê·¸ì¸í•˜ì„¸ìš”</h4>
        <form action="success.html">
          <div class="my-3">
            <input type="text" class="form-control" />
          </div>
          <div class="my-3">
            <input type="password" class="form-control" />
          </div>
          <button type="submit" class="btn btn-primary">ì „ì†¡</button>
          <button type="button" class="btn btn-danger" id="close">ë‹«ê¸°</button>
        </form>
      </div>
    </div>

    <!-- navigation bar -->
    <div class="navbar navbar-light bg-light">
      <div class="container-fluid">
        <span class="navbar-brand">JSShop</span>
        <span class="badge bg-dark ms-auto mx-3">Dark ğŸ”„</span>
        <button class="navbar-toggler">
          <span class="navbar-toggler-icon"></span>
        </button>
      </div>
    </div>

    <div class="main-bg">
      <h4>Shirts on Sale</h4>
      <button id="btn-login" class="btn btn-danger">ë¡œê·¸ì¸</button>
    </div>

    <div class="alert alert-danger">
      <span>5</span>ì´ˆ ì´ë‚´ êµ¬ë§¤ ì‹œ ì‚¬ì€í’ˆ ì¦ì •!
    </div>
  </body>
</html>

<style>
  /* ëª¨ë‹¬ì°½ */
  .black-bg {
    width: 100%;
    height: 100%;
    position: fixed;
    background: rgba(0, 0, 0, 0.5);
    z-index: 5;
    padding: 30px;
    /* display: none; */
    visibility: hidden; /* display-noneì„ ì£¼ë©´ ì• ë‹ˆë©”ì´ì…˜ì´ ì˜ ë™ì‘í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— visibility ì‚¬ìš© */
    opacity: 0; /* animationì„ ìœ„í•¨ */
    transition: all 0.3s;
  }
  .white-bg {
    background: white;
    border-radius: 5px;
    padding: 30px;
  }
  .show-modal {
    /* display: block; */
    visibility: visible;
    opacity: 1;
  }

  .main-bg {
    padding: 100px 20px;
    background: lightgray;
  }
</style>

<script>
  //í´ë¦­ ì‹œ ë¡œê·¸ì¸í•˜ì„¸ìš” ë„ìš°ê¸°(JQuery)
  $("#btn-login").on("click", () => {
    $(".black-bg").addClass("show-modal");
  });

  //ë‹«ê¸° ë²„íŠ¼(JQuery)
  $("#close").on("click", () => {
    $(".black-bg").removeClass("show-modal");
  });

  //vanilla JSë¡œ í•´ë³´ê¸°, ID ì•ˆì“°ê³  í•´ë³´ê¸°
  //ì•„ì´ë””, ë¹„ë²ˆ ê³µë°±ê²€ì‚¬ í›„ pwê°€ 6ì ë¯¸ë§Œì¸ì§€ ê²€ì‚¬
  document.querySelector("form").addEventListener("submit", function (e) {
    const id = document.querySelector("form input:first-child");
    const pw = document.querySelector("form div:nth-child(2) input");
    if (id.value == "") {
      e.preventDefault();
      alert("ì•„ì´ë”” ì…ë ¥ ì•ˆí•¨?");
    } else if (!/\S+@\S+\.\S+/.test(id.value)) {
      //ì´ë©”ì¼ í˜•ì‹ ê²€ì‚¬ ì¶”ê°€
      e.preventDefault();
      alert("ì´ë©”ì¼ í˜•ì‹ì´ ì•„ë‹˜!");
    } else if (pw.value == "") {
      e.preventDefault();
      alert("password ì…ë ¥ ì•ˆí•¨?");
    } else if (!/[A-Z]/.test(pw.value)) {
      //ë¹„ë°€ë²ˆí˜¸ì— ëŒ€ë¬¸ì ê²€ì‚¬ ì¶”ê°€
      e.preventDefault();
      alert("ë¹„ë°€ë²ˆí˜¸ì— ëŒ€ë¬¸ì í•˜ë‚˜ë¥¼ ë„£ìœ¼ì„¸ìš”");
    } else if (pw.value.length < 6) {
      e.preventDefault();
      alert("passwordê°€ 6ì ë¯¸ë§Œ");
    }
  });

  //input tag ì˜ change, input ì´ë²¤íŠ¸
  //change: ê°’ì´ ë³€ê²½ë˜ê³  focusë¥¼ ìƒìœ¼ë©´ ì´ë²¤íŠ¸ ë°œìƒ
  //input: ê°’ì´ ë³€ê²½ë  ë•Œ ë§ˆë‹¤ ì´ë²¤íŠ¸ ë°œìƒ
  document
    .querySelector("form input:first-child")
    .addEventListener("input", function () {
      console.log(document.querySelector("form input:first-child").value);
    });

  //true, false
  //true: 0ì œì™¸ ìˆ«ì, 'ë¬¸ì', [], {}
  //false: 0, '', null, undefined, NaN

  //and or ëŠ” ì‰¬ì›Œì„œ ìƒëµ~

  //dark mode ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ toggle ë˜ë„ë¡ í•´ë³´ì
  //let, const : ì¬ì‚¬ìš© ë¶ˆê°€(ì‹¤ìˆ˜ ë°©ì§€)
  //var   Function-scoped ì¬ì„ ì–¸O ì¬í• ë‹¹O
  //let   {Block-scoped}  ì¬ì„ ì–¸X ì¬í• ë‹¹O
  //const {Block-scoped}  ì¬ì„ ì–¸X ì¬í• ë‹¹X
  let clickCnt = 0;

  $(".badge").on("click", function () {
    //clickCnt++
    clickCnt += 1;
    //clickCnt = clickCnt + 1
    if (clickCnt % 2 == 0) {
      $(".badge").text("Dark ğŸ”„");
    } else {
      $(".badge").text("Light ğŸ”„");
    }
  });

  //5ì´ˆ í›„ ì•ˆë³´ì´ê²Œ, 1ì´ˆë§ˆë‹¤ ë‚¨ì€ì‹œê°„ ë³€ê²½
  let second = 5;
  function limitPopupClose() {
    second -= 1;
    const popupHTML = document.querySelector(".alert");

    popupHTML.querySelector("span").innerHTML = second;

    if (second == 0) {
      popupHTML.style.display = "none";
      clearInterval(interval); //íƒ€ì´ë¨¸ ì‚­ì œ
    }
  }

  //setTimeout(limitPopupClose, 5000);
  let interval = setInterval(limitPopupClose, 1000);

  //ë¬¸ì ê²€ì‚¬
  "ë¬¸ì".includes("ê²€ì‚¬í• ê¸€ì");

  //ì •ê·œì‹ì„ ì´ìš©í•˜ì—¬ ë¬¸ìê²€ì‚¬
  //regex test êµ¬ê¸€ë§ í•˜ë©´ í…ŒìŠ¤íŠ¸ ì‚¬ì´íŠ¸ ë§ì´ ë‚˜ì˜´
  /*
  /ab/.test("abcde");
  /[a-z]/.test("ê²€ì‚¬í• ê¸€ì"); //a ~ z ì¤‘ ì•„ë¬´ ê¸€ì 1ê°œ
  /[A-Z]/.test("ê²€ì‚¬í• ê¸€ì"); //A ~ Z ì¤‘ ì•„ë¬´ ê¸€ì 1ê°œ
  /[a-zA-Z]/.test("ê²€ì‚¬í• ê¸€ì"); //ì•„ë¬´ ì•ŒíŒŒë²³ 1ê°œ
  /[ã„±-ã…ê°€-í£]/.test("ê²€ì‚¬í• ê¸€ì"); //ì•„ë¬´ í•œê¸€ 1ê°œ ëª¨ìŒì€ ì•ˆë„£ì—ˆìœ¼ë‹ˆ ë¹¼ê³  ëª¨ìŒì€ ã…-ã…£
  /\S/.test("ê²€ì‚¬í• ê¸€ì"); //ì•„ë¬´ ë¬¸ì,ìˆ«ì 1ê°œ(íŠ¹ìˆ˜ê¸°í˜¸í¬í•¨)
  /^a/.test("ê²€ì‚¬í• ê¸€ì"); //aë¡œ ì‹œì‘í•˜ëŠ”ì§€?
  /a$/.test("ê²€ì‚¬í• ê¸€ì"); //aë¡œ ëë‚˜ëŠ”ì§€?
  /a|b/.test("ê²€ì‚¬í• ê¸€ì"); //a or b ê°€ ìˆëŠ”ì§€?
  /\S+@\S+\.\S+/.test("ê²€ì‚¬í• ê¸€ì"); //ì´ë©”ì¼ í˜•ì‹ ê²€ì‚¬ .ì€ ì •ê·œì‹ ì—­í• ì´ ìˆìœ¼ë¯€ë¡œ ì•ì— ì—­ìŠ¬ë˜ì‹œ ì¶”ê°€ +:ì™¼ìª½ë¬¸ì ë°˜ë³µê²€ìƒ‰
  */
  //ì •ë¦¬ ì˜ í•œ ë¸”ë¡œê·¸
  //https://inpa.tistory.com/entry/JS-ğŸ“š-ì •ê·œì‹-RegExp-ëˆ„êµ¬ë‚˜-ì´í•´í•˜ê¸°-ì‰½ê²Œ-ì •ë¦¬
</script>
